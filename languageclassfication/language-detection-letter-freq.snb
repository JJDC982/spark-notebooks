{
  "metadata" : {
    "name" : "language-detection-letter-freq",
    "user_save_timestamp" : "1970-01-01T01:00:00.000Z",
    "auto_save_timestamp" : "1970-01-01T01:00:00.000Z",
    "language_info" : {
      "name" : "scala",
      "file_extension" : "scala",
      "codemirror_mode" : "text/x-scala"
    },
    "trusted" : true,
    "customLocalRepo" : null,
    "customRepos" : null,
    "customDeps" : null,
    "customImports" : null,
    "customArgs" : null,
    "customSparkConf" : null
  },
  "cells" : [ {
    "metadata" : {
      "id" : "6D985D5B5E8740F384AA83EDE40A95D2"
    },
    "cell_type" : "markdown",
    "source" : "#Language Classification\n###A naive approach to language classification.\nThis notebook explores the language classification problem by looking at the frequency distribution of the characters used in sample text.\nUsing the letter frequency we build simple models that will allow us to classify the language of new sentences.\n\nFor our exploration, we will use a dataset comprised of treaties and other official documents of the European Commission. Those are available in each language spoken in the European Union and hence ideal to have a datasets of equivalent quality for each language."
  }, {
    "metadata" : {
      "id" : "5A3E909A40B049FE9CB7DCB3383384CE"
    },
    "cell_type" : "markdown",
    "source" : "## First, we will load some sample data and explore the character distribution in order to build up some intuition."
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "BFF3A95A5486431F944D5D66AD38CD76"
    },
    "cell_type" : "code",
    "source" : "val notebooksFolder = sys.env(\"NOTEBOOKS_DIR\")\nval baseFolder = s\"$notebooksFolder/languageclassfication/data\"",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "notebooksFolder: String = /home/maasg/playground/sparkfun/spark-notebooks\nbaseFolder: String = /home/maasg/playground/sparkfun/spark-notebooks/languageclassfication/data\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 25,
      "time" : "Took: 391 milliseconds, at 2017-3-6 21:19"
    } ]
  }, {
    "metadata" : {
      "id" : "C9DB899751B54B4886E418E70D116C0F"
    },
    "cell_type" : "markdown",
    "source" : "### We load the english dataset to explore the data"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "2A1476EDDD3344B98FEFF9988DB6786C"
    },
    "cell_type" : "code",
    "source" : "val en = sparkSession.sparkContext.textFile(baseFolder + \"/en\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "en: org.apache.spark.rdd.RDD[String] = /home/maasg/playground/sparkfun/spark-notebooks/languageclassfication/data/en MapPartitionsRDD[20] at textFile at <console>:70\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 26,
      "time" : "Took: 506 milliseconds, at 2017-3-6 21:19"
    } ]
  }, {
    "metadata" : {
      "id" : "2FE75BFDD8AC4136827BDCDFFA4AC5E0"
    },
    "cell_type" : "markdown",
    "source" : "### And we clean up the text from characters other than letters"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "41A6E9AA80E24EA2868949ECC6878BFD"
    },
    "cell_type" : "code",
    "source" : "val cleanedLetters = en.flatMap(str => str).filter(java.lang.Character.isAlphabetic(_)).map(java.lang.Character.toLowerCase(_))",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "cleanedLetters: org.apache.spark.rdd.RDD[Char] = MapPartitionsRDD[23] at map at <console>:72\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 27,
      "time" : "Took: 434 milliseconds, at 2017-3-6 21:19"
    } ]
  }, {
    "metadata" : {
      "id" : "DD074C27F4C24EE88BF7D0849B0AB947"
    },
    "cell_type" : "markdown",
    "source" : "#### We can use cells to interactively test our filter method to be sure we are getting the results that we expect\nThe API parity between Scala and Spark lets us easily tests on local collections. Like a string in this case."
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "CEBFFF79769A4E77A11BF8DB068454E4"
    },
    "cell_type" : "code",
    "source" : "val sample = \"Erwägung protección jurídica ci-après à l’aide Gemäß 987...\"\nsample.filter(java.lang.Character.isAlphabetic(_)).map(java.lang.Character.toLowerCase(_))\n",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "sample: String = Erwägung protección jurídica ci-après à l’aide Gemäß 987...\nres31: String = erwägungprotecciónjurídicaciaprèsàlaidegemäß\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "erwägungprotecciónjurídicaciaprèsàlaidegemäß"
      },
      "output_type" : "execute_result",
      "execution_count" : 28,
      "time" : "Took: 557 milliseconds, at 2017-3-6 21:19"
    } ]
  }, {
    "metadata" : {
      "id" : "36CCEBEC50724BC79349061B101C76D2"
    },
    "cell_type" : "markdown",
    "source" : "### We count the total of characters in our dataset\nWe will need this later to obtain relative frequency values"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "DD4F41176D2B4EEFAE850DB5AF815579"
    },
    "cell_type" : "code",
    "source" : "val total = cleanedLetters.count()",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "total: Long = 1670805\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 29,
      "time" : "Took: 863 milliseconds, at 2017-3-6 21:19"
    } ]
  }, {
    "metadata" : {
      "id" : "68E13860F02440D29757330CC1EF7AD2"
    },
    "cell_type" : "markdown",
    "source" : "### ...and the frequency of each alphabetic character in the dataset\nNote that the frequency is relative to the total count - this will enable us to compare different languages later on"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "6F6D9275B5E54FFAB770F4418BDF2554"
    },
    "cell_type" : "code",
    "source" : "val freq = cleanedLetters.keyBy(char => char.toString.toLowerCase).countByKey.map{case (k,v) => (k.toString, v.toDouble/total)}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "freq: scala.collection.Map[String,Double] = Map(e -> 0.12519294591529234, л -> 2.3940555600444098E-6, ς -> 5.386625010099922E-6, έ -> 1.1970277800222049E-6, s -> 0.05571326396557348, б -> 1.1970277800222049E-6, x -> 0.0023743046016740433, č -> 4.189597230077717E-6, α -> 6.583652790122127E-6, ā -> 2.9925694500555123E-6, n -> 0.07904632796765632, ε -> 6.583652790122127E-6, п -> 2.3940555600444098E-6, ω -> 1.1970277800222049E-6, ä -> 4.189597230077717E-6, ļ -> 5.985138900111024E-7, j -> 0.002664583838329428, y -> 0.011944541702951571, š -> 2.3940555600444098E-6, φ -> 1.1970277800222049E-6, μ -> 1.7955416700333072E-6, а -> 6.583652790122127E-6, t -> 0.10015710989612792, ó -> 2.9925694500555123E-6, в -> 5.985138900111024E-7, é -> 2.1546500040399688E-5, u -> 0.02913805022130051, ή -> 5.985138..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 31,
      "time" : "Took: 1 second 10 milliseconds, at 2017-3-6 21:22"
    } ]
  }, {
    "metadata" : {
      "id" : "48C9B6C691AC4DCE8DB57DC606463CAB"
    },
    "cell_type" : "markdown",
    "source" : "#### We are interested in the frequency of each letter, alphabetically ordered"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "E31D0FA9B28249F08FA7C96F64EB2429"
    },
    "cell_type" : "code",
    "source" : "val freqOrdered = freq.toList.sortBy{case (k,v)=> k}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "freqOrdered: List[(String, Double)] = List((a,0.07892123856464399), (b,0.013841232220396755), (c,0.04509203647343646), (d,0.030138166931509062), (e,0.12519294591529234), (f,0.026006625548762423), (g,0.014792270791624396), (h,0.044525243819595946), (i,0.08238364141835822), (j,0.002664583838329428), (k,0.002872866672053292), (l,0.040070504936243305), (m,0.024439716184713356), (n,0.07904632796765632), (o,0.08121653933283657), (p,0.025622379631375296), (q,0.0011192209743207616), (r,0.06635484092997088), (s,0.05571326396557348), (t,0.10015710989612792), (u,0.02913805022130051), (v,0.00852882293265821), (w,0.0074197766944676365), (x,0.0023743046016740433), (y,0.011944541702951571), (z,2.1187391706393026E-4), (à,4.189597230077717E-6), (á,1.0174736130188742E-5), (ã,2.3940555600444098E-6), (ä,4...."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 32,
      "time" : "Took: 544 milliseconds, at 2017-3-6 21:22"
    } ]
  }, {
    "metadata" : {
      "id" : "6E4B1184392945DAA606D18EF97AC806"
    },
    "cell_type" : "markdown",
    "source" : "### We can now visualize the how the frequency distribution looks like"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab171562487-1\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "C46268BE6A0D4E1F866D14F4EB18A980"
    },
    "cell_type" : "code",
    "source" : "freqOrdered",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res37: List[(String, Double)] = List((a,0.07892123856464399), (b,0.013841232220396755), (c,0.04509203647343646), (d,0.030138166931509062), (e,0.12519294591529234), (f,0.026006625548762423), (g,0.014792270791624396), (h,0.044525243819595946), (i,0.08238364141835822), (j,0.002664583838329428), (k,0.002872866672053292), (l,0.040070504936243305), (m,0.024439716184713356), (n,0.07904632796765632), (o,0.08121653933283657), (p,0.025622379631375296), (q,0.0011192209743207616), (r,0.06635484092997088), (s,0.05571326396557348), (t,0.10015710989612792), (u,0.02913805022130051), (v,0.00852882293265821), (w,0.0074197766944676365), (x,0.0023743046016740433), (y,0.011944541702951571), (z,2.1187391706393026E-4), (à,4.189597230077717E-6), (á,1.0174736130188742E-5), (ã,2.3940555600444098E-6), (ä,4.189597..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon6a29b89179b5cc8e318b352c17a89f0c&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;171562487&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul171562487\"><li>\n              <a href=\"#tab171562487-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab171562487-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab171562487-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab171562487-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab171562487\"><div class=\"tab-pane\" id=\"tab171562487-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonf0997e938a97a38d6af678447a40d64a&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;å&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ç&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;é&quot;,&quot;_2&quot;:0.000021546500040399688},{&quot;_1&quot;:&quot;ì&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;í&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ñ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ó&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ö&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ú&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;ü&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;ā&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ă&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;č&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ē&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ė&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ģ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ļ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ł&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ş&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;š&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ţ&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ū&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ů&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ų&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ά&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;έ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ή&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ί&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;α&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;β&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;γ&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ε&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;η&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;θ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ι&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;κ&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;λ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;μ&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ν&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ξ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ο&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;π&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ρ&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;ς&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;σ&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;τ&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;υ&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;φ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ω&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;а&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;б&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;в&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;г&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;е&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;з&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;и&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;к&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;л&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;н&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;о&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;п&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;р&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;с&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;т&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;х&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ц&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ъ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;я&quot;,&quot;_2&quot;:0.0000011970277800222049}],&quot;genId&quot;:&quot;834245262&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon7399abd20970ddc3c5d94fe7dda36214&quot;,&quot;initialValue&quot;:&quot;98&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc9c9d6e444b9a846e24b3b26495320d9&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab171562487-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonbdf75c0b05f6080f5dcd9bc9f4da1a1e&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;å&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ç&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;é&quot;,&quot;_2&quot;:0.000021546500040399688},{&quot;_1&quot;:&quot;ì&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;í&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ñ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ó&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ö&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ú&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;ü&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;ā&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ă&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;č&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ē&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ė&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ģ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ļ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ł&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ş&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;š&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ţ&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ū&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ů&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ų&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ά&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;έ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ή&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ί&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;α&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;β&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;γ&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ε&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;η&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;θ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ι&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;κ&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;λ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;μ&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ν&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ξ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ο&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;π&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ρ&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;ς&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;σ&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;τ&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;υ&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;φ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ω&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;а&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;б&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;в&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;г&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;е&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;з&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;и&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;к&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;л&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;н&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;о&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;п&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;р&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;с&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;т&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;х&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ц&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ъ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;я&quot;,&quot;_2&quot;:0.0000011970277800222049}],&quot;genId&quot;:&quot;1564143256&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon38a5c2b4f5533c46f51e3cfcd7dab691&quot;,&quot;initialValue&quot;:&quot;98&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon7bbc65a909ef83260eda73670e8c3757&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab171562487-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonaf0fd1052fb490caffc3277234b2fa35&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;å&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ç&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;é&quot;,&quot;_2&quot;:0.000021546500040399688},{&quot;_1&quot;:&quot;ì&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;í&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ñ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ó&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ö&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ú&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;ü&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;ā&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ă&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;č&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ē&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ė&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ģ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ļ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ł&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ş&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;š&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ţ&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ū&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ů&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ų&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ά&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;έ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ή&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ί&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;α&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;β&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;γ&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ε&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;η&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;θ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ι&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;κ&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;λ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;μ&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ν&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ξ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ο&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;π&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ρ&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;ς&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;σ&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;τ&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;υ&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;φ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ω&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;а&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;б&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;в&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;г&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;е&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;з&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;и&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;к&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;л&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;н&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;о&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;п&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;р&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;с&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;т&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;х&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ц&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ъ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;я&quot;,&quot;_2&quot;:0.0000011970277800222049}],&quot;genId&quot;:&quot;240475289&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona149bee4cbb15a1999d6d69e5d6d1c8b&quot;,&quot;initialValue&quot;:&quot;98&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anone2bc4f19b134160f86b284e6115dd1de&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab171562487-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon46c936b3abe0342d2494476eca3a5ddd&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;å&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ç&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;é&quot;,&quot;_2&quot;:0.000021546500040399688},{&quot;_1&quot;:&quot;ì&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;í&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ñ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ó&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ö&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ú&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;ü&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;ā&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ă&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;č&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ē&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ė&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ģ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ļ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ł&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ş&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;š&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ţ&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ū&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ů&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ų&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ά&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;έ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ή&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ί&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;α&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;β&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;γ&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ε&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;η&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;θ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ι&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;κ&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;λ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;μ&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ν&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ξ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ο&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;π&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ρ&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;ς&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;σ&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;τ&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;υ&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;φ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ω&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;а&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;б&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;в&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;г&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;е&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;з&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;и&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;к&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;л&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;н&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;о&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;п&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;р&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;с&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;т&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;х&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ц&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ъ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;я&quot;,&quot;_2&quot;:0.0000011970277800222049}],&quot;genId&quot;:&quot;1796136266&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc3dd8735ea974c814805476e91919ede&quot;,&quot;initialValue&quot;:&quot;98&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb1d3cf29f7dbb1d9731f090d30d620d2&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 33,
      "time" : "Took: 1 second 283 milliseconds, at 2017-3-6 21:23"
    } ]
  }, {
    "metadata" : {
      "id" : "90FDBDE535424CC0897C20A6989845C3"
    },
    "cell_type" : "markdown",
    "source" : "### Probably better to take the relevant part"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab841865662-1\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "A780D4906EC84FCD8339A250ADF50EF0"
    },
    "cell_type" : "code",
    "source" : "freqOrdered.take(30)\n",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res39: List[(String, Double)] = List((a,0.07892123856464399), (b,0.013841232220396755), (c,0.04509203647343646), (d,0.030138166931509062), (e,0.12519294591529234), (f,0.026006625548762423), (g,0.014792270791624396), (h,0.044525243819595946), (i,0.08238364141835822), (j,0.002664583838329428), (k,0.002872866672053292), (l,0.040070504936243305), (m,0.024439716184713356), (n,0.07904632796765632), (o,0.08121653933283657), (p,0.025622379631375296), (q,0.0011192209743207616), (r,0.06635484092997088), (s,0.05571326396557348), (t,0.10015710989612792), (u,0.02913805022130051), (v,0.00852882293265821), (w,0.0074197766944676365), (x,0.0023743046016740433), (y,0.011944541702951571), (z,2.1187391706393026E-4), (à,4.189597230077717E-6), (á,1.0174736130188742E-5), (ã,2.3940555600444098E-6), (ä,4.189597..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon27b59751243c1c738c1ff904d94d210e&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;841865662&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul841865662\"><li>\n              <a href=\"#tab841865662-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab841865662-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab841865662-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab841865662-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab841865662\"><div class=\"tab-pane\" id=\"tab841865662-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon89a0047a550d63e36113500c4bc5dbef&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717}],&quot;genId&quot;:&quot;583687893&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonafd195c9e58a3f1071b2dbb79a64b070&quot;,&quot;initialValue&quot;:&quot;30&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon5266ab4a2157236e605216525e88ffd4&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab841865662-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon1ecb55782dc18e31ec51673f9afe6c9a&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717}],&quot;genId&quot;:&quot;364012928&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon48bcff2eff010d52746de8fbcbebc82d&quot;,&quot;initialValue&quot;:&quot;30&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb1acd61aa1129eaa4724938dd01e1981&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab841865662-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonc0d2fc9f09fcc0c1e8cebfdf4eadca26&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717}],&quot;genId&quot;:&quot;95881910&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon8693da42e103902696d009ca5f9b8285&quot;,&quot;initialValue&quot;:&quot;30&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon78b2352310507973a18d9ba530b79ba6&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab841865662-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon5c4c5069aa56444fa923358c20b76137&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717}],&quot;genId&quot;:&quot;1723565630&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonf42fd4d26d65db5a6c8f420415444a20&quot;,&quot;initialValue&quot;:&quot;30&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonf9f54c11070e839ffcf5b99a7006ff27&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 34,
      "time" : "Took: 690 milliseconds, at 2017-3-6 21:24"
    } ]
  }, {
    "metadata" : {
      "id" : "1F8D760BD9094A1C8956F0D9EF2AEE8D"
    },
    "cell_type" : "markdown",
    "source" : "## Let's put together these initial steps to process other languages and compare the distributions"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "26429C6A81D24253AF14041AEB781E0F"
    },
    "cell_type" : "code",
    "source" : "import java.lang.Character\nimport org.apache.spark.rdd.RDD\n  \ndef letterFreq(rdd: RDD[String]): Seq[(String, Double)] = {\n  val cleanedChars = rdd.flatMap(str => str).collect{case char if Character.isAlphabetic(char) => Character.toLowerCase(char)}\n  val total = cleanedChars.count\n  val freq = cleanedChars.keyBy(identity).countByKey()\n  // here we transform characters to String to help us with limited support for 'char' in Spark Datasets\n  val ordered = freq.map{case (k,v) => (k.toString, v.toDouble/total)}.toList.sortBy{case (k,v)=> k}\n  ordered\n}\n\n",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "import java.lang.Character\nimport org.apache.spark.rdd.RDD\nletterFreq: (rdd: org.apache.spark.rdd.RDD[String])Seq[(String, Double)]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 38,
      "time" : "Took: 667 milliseconds, at 2017-3-6 21:31"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "74CE994500F4495B9B123B94D6AB99F5"
    },
    "cell_type" : "code",
    "source" : "val es = sparkSession.sparkContext.textFile(baseFolder + \"/es\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "es: org.apache.spark.rdd.RDD[String] = /home/maasg/playground/sparkfun/spark-notebooks/languageclassfication/data/es MapPartitionsRDD[39] at textFile at <console>:74\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 43,
      "time" : "Took: 462 milliseconds, at 2017-3-6 21:32"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "E21E00DDADFB43649D682F2E8807DAE4"
    },
    "cell_type" : "code",
    "source" : "val esLetterFreq = letterFreq(es).take(30)",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "esLetterFreq: Seq[(String, Double)] = List((a,0.10811093644933893), (b,0.011199629499334257), (c,0.055396417899813415), (d,0.056432327964339314), (e,0.12497161127711401), (f,0.007402220332114659), (g,0.008447036662644004), (h,0.002932388081634834), (i,0.07469295647953117), (j,0.004328445277675108), (k,4.1748121891156525E-5), (l,0.05847687265375555), (m,0.023087268047434772), (n,0.07069237311910795), (o,0.08934988711307841), (p,0.028785051723139814), (q,0.004136403916975788), (r,0.06678196570196962), (s,0.0724157355907749), (t,0.05165856938649187), (u,0.03707344552259742), (v,0.006658547120826858), (w,1.5585965506031768E-5), (x,0.0015324343942180521), (y,0.006487101500260509), (z,0.0020684802793005017), (º,9.462907628662146E-6), (à,5.566416252154203E-7), (á,0.0061186047443679), (ã,2.2265..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 44,
      "time" : "Took: 881 milliseconds, at 2017-3-6 21:33"
    } ]
  }, {
    "metadata" : {
      "id" : "91F563460CC145CF931BAF324B1BF902"
    },
    "cell_type" : "markdown",
    "source" : "### Let's compare the frequency distribution of English vs Spanish"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "337B9750FD2C4E6880194D2B835B2D8A"
    },
    "cell_type" : "code",
    "source" : "BarChart(esLetterFreq)",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res53: notebook.front.widgets.charts.BarChart[Seq[(String, Double)]] = <BarChart widget>\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon282802a81a0aa478f935e3ad5cfbd85d&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.10811093644933893},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.011199629499334257},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.055396417899813415},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.056432327964339314},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12497161127711401},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.007402220332114659},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.008447036662644004},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.002932388081634834},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.07469295647953117},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.004328445277675108},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.000041748121891156525},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.05847687265375555},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.023087268047434772},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07069237311910795},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08934988711307841},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.028785051723139814},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.004136403916975788},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06678196570196962},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.0724157355907749},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.05165856938649187},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.03707344552259742},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.006658547120826858},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.000015585965506031768},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0015324343942180521},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.006487101500260509},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.0020684802793005017},{&quot;_1&quot;:&quot;º&quot;,&quot;_2&quot;:0.000009462907628662146},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:5.566416252154203E-7},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.0061186047443679},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.000002226566500861681}],&quot;genId&quot;:&quot;87745245&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon3ce7cb6e0774d3bb8a3d85bfffbfd278&quot;,&quot;initialValue&quot;:&quot;30&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb0edb899ecd306f7f0e508e088dd756a&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 45,
      "time" : "Took: 666 milliseconds, at 2017-3-6 21:33"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "D8A1475EE43E4B4992A2AC970C408964"
    },
    "cell_type" : "code",
    "source" : "BarChart(freqOrdered.take(30))",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res55: notebook.front.widgets.charts.BarChart[List[(String, Double)]] = <BarChart widget>\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon1e1e095854542a03509741e3af2c253a&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717}],&quot;genId&quot;:&quot;984514945&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonea265a9e3042917a56a3d21a88bde60e&quot;,&quot;initialValue&quot;:&quot;30&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona4c885fb7ed069c306713b8174ec432e&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 46,
      "time" : "Took: 624 milliseconds, at 2017-3-6 21:33"
    } ]
  }, {
    "metadata" : {
      "id" : "3507E4C4387C462EB08775FD2419E945"
    },
    "cell_type" : "markdown",
    "source" : "### Let's create a classifier for 6 common european languages"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "C0AA0B4BBA274409867FBF255D234787"
    },
    "cell_type" : "code",
    "source" : "val languages = Seq(\"en\", \"es\", \"it\", \"de\", \"fr\", \"nl\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "languages: Seq[String] = List(en, es, it, de, fr, nl)\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 51,
      "time" : "Took: 554 milliseconds, at 2017-3-6 21:38"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "393F496631B549A583C26FE8AE7F850B"
    },
    "cell_type" : "code",
    "source" : "val langDataset = languages.map{lang => (lang, sparkContext.textFile(baseFolder + s\"/$lang\"))}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "langDataset: Seq[(String, org.apache.spark.rdd.RDD[String])] = List((en,/home/maasg/playground/sparkfun/spark-notebooks/languageclassfication/data/en MapPartitionsRDD[95] at textFile at <console>:76), (es,/home/maasg/playground/sparkfun/spark-notebooks/languageclassfication/data/es MapPartitionsRDD[97] at textFile at <console>:76), (it,/home/maasg/playground/sparkfun/spark-notebooks/languageclassfication/data/it MapPartitionsRDD[99] at textFile at <console>:76), (de,/home/maasg/playground/sparkfun/spark-notebooks/languageclassfication/data/de MapPartitionsRDD[101] at textFile at <console>:76), (fr,/home/maasg/playground/sparkfun/spark-notebooks/languageclassfication/data/fr MapPartitionsRDD[103] at textFile at <console>:76), (nl,/home/maasg/playground/sparkfun/spark-notebooks/languagecl..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 52,
      "time" : "Took: 563 milliseconds, at 2017-3-6 21:38"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "770E09E738CD472A8047D1F6CBAA32F1"
    },
    "cell_type" : "code",
    "source" : "val langLetterFreq = langDataset.map{case (lang, rdd) => (lang, letterFreq(rdd))}\n",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "langLetterFreq: Seq[(String, Seq[(String, Double)])] = List((en,List((a,0.07892123856464399), (b,0.013841232220396755), (c,0.04509203647343646), (d,0.030138166931509062), (e,0.12519294591529234), (f,0.026006625548762423), (g,0.014792270791624396), (h,0.044525243819595946), (i,0.08238364141835822), (j,0.002664583838329428), (k,0.002872866672053292), (l,0.040070504936243305), (m,0.024439716184713356), (n,0.07904632796765632), (o,0.08121653933283657), (p,0.025622379631375296), (q,0.0011192209743207616), (r,0.06635484092997088), (s,0.05571326396557348), (t,0.10015710989612792), (u,0.02913805022130051), (v,0.00852882293265821), (w,0.0074197766944676365), (x,0.0023743046016740433), (y,0.011944541702951571), (z,2.1187391706393026E-4), (à,4.189597230077717E-6), (á,1.0174736130188742E-5), (ã,2.3..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 53,
      "time" : "Took: 2 seconds 527 milliseconds, at 2017-3-6 21:38"
    } ]
  }, {
    "metadata" : {
      "id" : "988317526ABC47D3828CC9D10180B436"
    },
    "cell_type" : "markdown",
    "source" : "#### This case class helps to provide a schema to the dataset to help us plotting it."
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "944D0547A7CD437F97DC6248A324D550"
    },
    "cell_type" : "code",
    "source" : "case class LanguageLetterFrequency(lang: String, letter: String, freq: Double)",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "defined class LanguageLetterFrequency\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 54,
      "time" : "Took: 556 milliseconds, at 2017-3-6 21:39"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "CAB89D26080541CA9731BADBC4876794"
    },
    "cell_type" : "code",
    "source" : "val langByLetterFreq = langLetterFreq.flatMap{case (lang, freqList) => freqList.take(30).map{case (letter, freq) => LanguageLetterFrequency(lang, letter, freq)}}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "langByLetterFreq: Seq[LanguageLetterFrequency] = List(LanguageLetterFrequency(en,a,0.07892123856464399), LanguageLetterFrequency(en,b,0.013841232220396755), LanguageLetterFrequency(en,c,0.04509203647343646), LanguageLetterFrequency(en,d,0.030138166931509062), LanguageLetterFrequency(en,e,0.12519294591529234), LanguageLetterFrequency(en,f,0.026006625548762423), LanguageLetterFrequency(en,g,0.014792270791624396), LanguageLetterFrequency(en,h,0.044525243819595946), LanguageLetterFrequency(en,i,0.08238364141835822), LanguageLetterFrequency(en,j,0.002664583838329428), LanguageLetterFrequency(en,k,0.002872866672053292), LanguageLetterFrequency(en,l,0.040070504936243305), LanguageLetterFrequency(en,m,0.024439716184713356), LanguageLetterFrequency(en,n,0.07904632796765632), LanguageLetterFreque..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 55,
      "time" : "Took: 549 milliseconds, at 2017-3-6 21:40"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "A22112C532A34B759772E92B8770615A"
    },
    "cell_type" : "code",
    "source" : "CustomPlotlyChart(langByLetterFreq,\n                  layout=\"{title: 'Language Frequency Distribution Comparison'}\",\n                  dataOptions=\"\"\"{type: 'bar', splitBy: 'lang'}\"\"\",\n                  dataSources=\"{x: 'letter', y: 'freq'}\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res68: notebook.front.widgets.charts.CustomPlotlyChart[Seq[LanguageLetterFrequency]] = <CustomPlotlyChart widget>\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonc45f67b85f885c0d9b97ef4f95a2b17a&quot;,&quot;dataInit&quot;:[{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.07892123856464399},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.013841232220396755},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.04509203647343646},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.030138166931509062},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.12519294591529234},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.026006625548762423},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.014792270791624396},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.044525243819595946},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.08238364141835822},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.002664583838329428},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.002872866672053292},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.040070504936243305},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.024439716184713356},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.07904632796765632},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.08121653933283657},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.025622379631375296},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.0011192209743207616},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.06635484092997088},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.05571326396557348},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.10015710989612792},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.02913805022130051},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.00852882293265821},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.0074197766944676365},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.0023743046016740433},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.011944541702951571},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.00021187391706393026},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:0.000004189597230077717},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.000010174736130188742},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;ã&quot;,&quot;freq&quot;:0.0000023940555600444098},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;ä&quot;,&quot;freq&quot;:0.000004189597230077717},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.10811093644933893},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.011199629499334257},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.055396417899813415},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.056432327964339314},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.12497161127711401},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.007402220332114659},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.008447036662644004},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.002932388081634834},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.07469295647953117},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.004328445277675108},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.000041748121891156525},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.05847687265375555},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.023087268047434772},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.07069237311910795},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.08934988711307841},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.028785051723139814},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.004136403916975788},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.06678196570196962},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.0724157355907749},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.05165856938649187},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.03707344552259742},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.006658547120826858},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.000015585965506031768},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.0015324343942180521},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.006487101500260509},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.0020684802793005017},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;º&quot;,&quot;freq&quot;:0.000009462907628662146},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:5.566416252154203E-7},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.0061186047443679},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;ã&quot;,&quot;freq&quot;:0.000002226566500861681},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.09944886655522718},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.009015842941270022},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.04123203553248964},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.04087620721336084},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.11737872375480111},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.009504391791006353},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.015761135080896597},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.004517646681929528},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.12504962718116466},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.000026315277620458182},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.000039472916430687275},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.07422853331228112},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.02363111930317145},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.06894316700933735},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.0946137203280943},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.0286676346112261},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.002517113511522087},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.06323046348068745},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.04497910223714184},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.0743017584326163},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.030756266754536812},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.009840769687546123},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.000013729710062847748},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.0006304225203857591},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.0000326080613992634},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.016086643623636612},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:0.0023672308433359992},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.000009725211294517155},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;ã&quot;,&quot;freq&quot;:0.0000022882850104746246},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;ä&quot;,&quot;freq&quot;:0.000004576570020949249},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.053500533682887784},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.01995736070157305},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.023862181996654592},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.054839029178537814},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.16726324427183134},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.016530613035363614},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.035566686014631047},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.03624672361866324},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.08227237691679029},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.0010463393891170744},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.014673651115809464},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.03394931423547229},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.024248403516275805},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.10228175025854155},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.025217830597044244},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.008267243158539507},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.0002263103173711705},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.07863038545239653},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.0617561569962811},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.06725068377255426},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.03918488446277306},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.010507106641958818},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.008912974553092456},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.0006944240789751075},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.0002655964604845033},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.012566585862632405},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;ß&quot;,&quot;freq&quot;:0.0020616925245109568},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:5.533259593427151E-7},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.000009959867268168873},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;ã&quot;,&quot;freq&quot;:0.0000022133038373708606},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.07039785172473764},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.008270081399492363},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.040762987980409636},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.041001360914865594},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.13902493307923103},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.010551042820778823},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.00815454349758769},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.0038984920479518776},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.07771565757484727},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.0028434485752960505},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.00015810449734323634},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.05538582970199735},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.026179064288937185},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.0788686042170118},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.06083252963547184},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.032201629449273385},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.007307468248360274},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.06954165506220196},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.07906258627336754},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.07965061338464027},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.05192212502173937},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.008857500416544541},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.000011553790190467271},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.004864753764407272},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.0013408477563147544},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.00008999794464153454},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;º&quot;,&quot;freq&quot;:0.000007905224867161817},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:0.00475590489892866},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.000010337601749365454},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;â&quot;,&quot;freq&quot;:0.000049255631864623634},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.07266998140289496},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.01743989051437275},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.014131040610117487},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.06408275435817914},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.1976199016615989},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.009007179475859634},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.034438858568188464},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.020866834794797225},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.07223292184249301},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.00905794902075481},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.020905463796347903},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.038258714978671275},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.018432655854225186},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.10600405052673403},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.05133628753221383},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.016104982589357157},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.00010650567570401356},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.06304970448813814},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.03548680819597044},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.06611188062534835},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.01867822593551164},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.03466456230582029},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.009461346165519753},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.0003068246408882463},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.00017934893577100728},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.008051939451799283},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:5.51842879295407E-7},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.000009381328948021919},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;ã&quot;,&quot;freq&quot;:0.000002207371517181628},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;ä&quot;,&quot;freq&quot;:0.000003862900155067849}],&quot;genId&quot;:&quot;926213187&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/customPlotlyChart'], \n      function(playground, _magiccustomPlotlyChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magiccustomPlotlyChart,\n    \"o\": {\"js\":\"var layout = {title: 'Language Frequency Distribution Comparison'}; var dataSources={x: 'letter', y: 'freq'}; var dataOptions = {type: 'bar', splitBy: 'lang'}\",\"headers\":[\"lang\",\"letter\",\"freq\"],\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anone873f3bdad15fccdb5286964ef3c9357&quot;,&quot;initialValue&quot;:&quot;180&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon43840ecddc97e9e4627feaf06e974c31&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 57,
      "time" : "Took: 704 milliseconds, at 2017-3-6 21:40"
    } ]
  }, {
    "metadata" : {
      "id" : "D0AFDA1AE6BB40E993942FC46C59FDF1"
    },
    "cell_type" : "markdown",
    "source" : "#Naive Language Prediction"
  }, {
    "metadata" : {
      "id" : "4580665C68B2443F8C3386112625FA93"
    },
    "cell_type" : "markdown",
    "source" : "## We first need to apply the same process to the text to evaluate\nAgain, API parity between Spark and Scala to the rescue"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "9657B6F72C124AB1A7A37F65B64A1E08"
    },
    "cell_type" : "code",
    "source" : "def sentenceFreq(str: String):List[(String, Double)] = {\n  val cleaned = str.collect{case char if Character.isAlphabetic(char) => Character.toLowerCase(char)}\n  val total = cleaned.size\n  val freq = cleaned.groupBy(identity).map{case (letter, group) => (letter, group.size)}\n  val ordered = freq.map{case (k,v) => (k.toString, v.toDouble/total)}.toList.sortBy{case (k,v)=> k}\n  ordered\n}\n\n",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "sentenceFreq: (str: String)List[(String, Double)]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 58,
      "time" : "Took: 516 milliseconds, at 2017-3-6 21:43"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab1556246145-1\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "CD5EF3BF238040108CBE4116F3F1ACBB"
    },
    "cell_type" : "code",
    "source" : "sentenceFreq(\"estamos haciendo un modelo para prediccion de lenguage\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res244: List[(String, Double)] = List((a,0.10638297872340426), (c,0.06382978723404255), (d,0.0851063829787234), (e,0.14893617021276595), (g,0.0425531914893617), (h,0.02127659574468085), (i,0.06382978723404255), (l,0.0425531914893617), (m,0.0425531914893617), (n,0.0851063829787234), (o,0.10638297872340426), (p,0.0425531914893617), (r,0.0425531914893617), (s,0.0425531914893617), (t,0.02127659574468085), (u,0.0425531914893617))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon90846ca7b2a27ce14410b576305cabf3&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1556246145&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1556246145\"><li>\n              <a href=\"#tab1556246145-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1556246145-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1556246145-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1556246145-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1556246145\"><div class=\"tab-pane\" id=\"tab1556246145-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anone3024f6f814990f884a9c144424f1852&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.14893617021276595},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.0425531914893617}],&quot;genId&quot;:&quot;1402881382&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon3131e126bf5ca24c77bb95a58dcf7218&quot;,&quot;initialValue&quot;:&quot;16&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anone283a66198180524a8877ab713931653&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1556246145-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon1c41f30225a9e66ebebaeeba767d64f6&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.14893617021276595},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.0425531914893617}],&quot;genId&quot;:&quot;1941891639&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anondf24eb6e3b14bf16662b34fb465dcc0e&quot;,&quot;initialValue&quot;:&quot;16&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon43d44e49f1f15a1e32b703220a7777d4&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1556246145-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anone7196cb824e4fbb48e14e772d7e16f90&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.14893617021276595},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.0425531914893617}],&quot;genId&quot;:&quot;757196801&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon6cb3f3b1f4dfbb8fa2ec3d90cc585ca3&quot;,&quot;initialValue&quot;:&quot;16&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon55deec4aab5abc4ad34b85905be1f928&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1556246145-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon9e80c797918621fac0da6de60f479419&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.14893617021276595},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.0425531914893617}],&quot;genId&quot;:&quot;1615295750&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon73aac1d9e7d796041dc2c7ab6deae8e1&quot;,&quot;initialValue&quot;:&quot;16&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon9891720128470c0bbb672d88b0fd9a19&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 187,
      "time" : "Took: 717 milliseconds, at 2017-3-5 21:34"
    } ]
  }, {
    "metadata" : {
      "id" : "B7E80377289A454E8265A0FF3B9CBA5B"
    },
    "cell_type" : "markdown",
    "source" : "## Our classifier will use Euclidean distance between the sample and each of our pre-calculated models\nThe closer we are from a model, the higher likehood that we have a match "
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "0B2E891AEBDF45B586683CB38E20464A"
    },
    "cell_type" : "code",
    "source" : "def classify(str:String): Seq[(String, Double)] = {\n  val strFreq = sentenceFreq(str).toMap\n  langLetterFreq.map{case (lang, refFreq) => \n                     val freqMap = refFreq.toMap\n                     val score = strFreq.map{case (letter, freq) => \n                                 val modelFreq = freqMap(letter)\n                                 (freq - modelFreq)*(freq-modelFreq)\n                                }.sum\n                     (lang, Math.sqrt(score))\n                    }.sortBy(_._2)\n}\n  ",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "classify: (str: String)Seq[(String, Double)]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 59,
      "time" : "Took: 585 milliseconds, at 2017-3-6 21:56"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab1668356079-1\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "CBCB400234D543D286DFFBEF8094D4F5"
    },
    "cell_type" : "code",
    "source" : "classify(\"estamos haciendo un modelo para clasificar el lenguage usado en un documento\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res72: Seq[(String, Double)] = List((es,0.08238430605362929), (fr,0.11604577757832807), (it,0.12226442259056455), (en,0.1267000540758025), (nl,0.14883738620927084), (de,0.1525148741851856))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon62a398ff40fc07d611318517d3cd5e95&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1668356079&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1668356079\"><li>\n              <a href=\"#tab1668356079-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1668356079-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1668356079-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1668356079-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1668356079\"><div class=\"tab-pane\" id=\"tab1668356079-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonc3462bf7612098e5a00094b612c3f8f6&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.08238430605362929},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11604577757832807},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.12226442259056455},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.1267000540758025},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.14883738620927084},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1525148741851856}],&quot;genId&quot;:&quot;983397085&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonfc2d20799ea89528ef5d5b50427eaac8&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon143a5cafecc455a360ee86482f56915b&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1668356079-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonec6145b4d9b9632a78de827c339acfa7&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.08238430605362929},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11604577757832807},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.12226442259056455},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.1267000540758025},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.14883738620927084},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1525148741851856}],&quot;genId&quot;:&quot;550840147&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond06c194e410f7e7a138508cc5156fbbf&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon7b9ee0ab5794f861f609b0b1c511b062&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1668356079-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonea7e65c8bba8686a07661c9d66d3e6f2&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.08238430605362929},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11604577757832807},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.12226442259056455},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.1267000540758025},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.14883738620927084},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1525148741851856}],&quot;genId&quot;:&quot;1426437916&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon01551abfc16b4816156997eff3ba97af&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon8a5b6da409e987fb4901e951f60f2a49&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1668356079-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon7e24ced25d741cb1383ae5549769cd6a&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.08238430605362929},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11604577757832807},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.12226442259056455},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.1267000540758025},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.14883738620927084},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1525148741851856}],&quot;genId&quot;:&quot;1243750179&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon852eadd45d8bbdc8593881b887fb6035&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anone263428305433343471551604a5bece5&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 60,
      "time" : "Took: 650 milliseconds, at 2017-3-6 21:56"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab1410281581-1\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "D897ABDAB4BB40CD81B9ABE9C3D19C97"
    },
    "cell_type" : "code",
    "source" : "classify(\"wij maken een model om de taal te bepalen die in een document gebruikt wordt\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res74: Seq[(String, Double)] = List((nl,0.07504696135635662), (de,0.10206072502408552), (fr,0.11896964686997333), (en,0.13026324061404027), (es,0.13912996402195157), (it,0.1538555940616276))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonb182b356ca20b50829f9035f00a0230f&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1410281581&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1410281581\"><li>\n              <a href=\"#tab1410281581-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1410281581-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1410281581-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1410281581-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1410281581\"><div class=\"tab-pane\" id=\"tab1410281581-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon781dcdcdd0d659914c9675f5f89ecb42&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.07504696135635662},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.10206072502408552},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11896964686997333},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.13026324061404027},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.13912996402195157},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.1538555940616276}],&quot;genId&quot;:&quot;699745996&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon43c7c54ffdad387cb43aaaabeba76807&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon5f92ef4f9d0099eba198148e974c9717&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1410281581-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon6bfdbd78733a03bd51e322d6b19125c1&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.07504696135635662},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.10206072502408552},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11896964686997333},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.13026324061404027},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.13912996402195157},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.1538555940616276}],&quot;genId&quot;:&quot;527840136&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond913c0e83c9c55d287d1cdebdf006b8d&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon93a3dbe0a74bb4c82493c6baea38238f&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1410281581-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon7dfb36865134a0d463ed8971295280a7&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.07504696135635662},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.10206072502408552},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11896964686997333},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.13026324061404027},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.13912996402195157},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.1538555940616276}],&quot;genId&quot;:&quot;1076247851&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon7ccf4ced3eada9b1ff097e648923e48a&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon2d66622dddf5499c736fbf75a2188d83&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1410281581-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonb92e683e995f9a5de0c81510d92589fb&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.07504696135635662},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.10206072502408552},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11896964686997333},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.13026324061404027},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.13912996402195157},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.1538555940616276}],&quot;genId&quot;:&quot;1786529973&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona2729097a2cc86e3106a38464613a89b&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon47e1cecba4485014e22fd0f6c3df6948&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 61,
      "time" : "Took: 682 milliseconds, at 2017-3-6 21:56"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab1084104420-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "27DE7E84356D49AB9D0E4BF9B30E4777"
    },
    "cell_type" : "code",
    "source" : "classify(\"language\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res76: Seq[(String, Double)] = List((it,0.3036339326924917), (es,0.30591839606321103), (nl,0.3199615720241069), (de,0.3202349895470698), (en,0.32109956126123407), (fr,0.32133700290867645))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon1ca70edf5c278918c54377f891890fa4&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1084104420&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1084104420\"><li>\n              <a href=\"#tab1084104420-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1084104420-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1084104420-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1084104420-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1084104420\"><div class=\"tab-pane\" id=\"tab1084104420-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon8eeed658e04e5ba3f648ed8dc1e5970a&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.3036339326924917},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.30591839606321103},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.3199615720241069},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.3202349895470698},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.32109956126123407},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.32133700290867645}],&quot;genId&quot;:&quot;2056517328&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anondf28567de42cd295c565ea1ed9b273a1&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonead9fa1d0930184e2558d42e80462b55&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1084104420-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon4ba6d74952116348bb0f48d8a2e2e52f&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.3036339326924917},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.30591839606321103},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.3199615720241069},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.3202349895470698},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.32109956126123407},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.32133700290867645}],&quot;genId&quot;:&quot;886372120&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon04bc68e6c1c05a7e8d2f2412fad5922c&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon0c380ce6d5a37082094910ef971b93b4&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1084104420-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon585befb80abf86c01a7ff80c5fa568f3&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.3036339326924917},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.30591839606321103},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.3199615720241069},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.3202349895470698},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.32109956126123407},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.32133700290867645}],&quot;genId&quot;:&quot;59829172&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon2fe50b5740b8388b8bb4ccfdce9b2ee5&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon85f2cbe8e4bd26dd505f282b09d9ba36&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1084104420-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonac69a4b969c7a28b60b92722780b3f64&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.3036339326924917},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.30591839606321103},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.3199615720241069},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.3202349895470698},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.32109956126123407},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.32133700290867645}],&quot;genId&quot;:&quot;799402432&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonf92461289be0cd8ea5b9f4d0582375bd&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon5b47d2399cd0f83b6d4720f9dcc13305&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 62,
      "time" : "Took: 656 milliseconds, at 2017-3-6 21:57"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab2029337499-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "A7746E9B9DB24A3CB21E9BBA0A4CCDA3"
    },
    "cell_type" : "code",
    "source" : "classify(\"these little sentences\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res78: Seq[(String, Double)] = List((nl,0.2190859315831615), (de,0.22205888191068252), (fr,0.22548803266578976), (en,0.23355825718020554), (es,0.25317339037675696), (it,0.2637927804402644))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon6f755cc610cc60dbe448a54b01f7e616&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;2029337499&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul2029337499\"><li>\n              <a href=\"#tab2029337499-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab2029337499-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab2029337499-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab2029337499-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab2029337499\"><div class=\"tab-pane\" id=\"tab2029337499-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon0530ed9715280dff4ba1eba0e2867290&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2190859315831615},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.22205888191068252},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22548803266578976},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.23355825718020554},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.25317339037675696},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2637927804402644}],&quot;genId&quot;:&quot;197349236&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon51f21dc32d8f964f7fdd3b4ff6326a18&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon3b453e5af82057b41c8417fe134215e6&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab2029337499-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon90dbef741ddebb1ecab966ad20373399&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2190859315831615},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.22205888191068252},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22548803266578976},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.23355825718020554},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.25317339037675696},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2637927804402644}],&quot;genId&quot;:&quot;70108984&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon830d24b8aabfe096243b7977ae9797ac&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona9872e627e6b3512bd12b2789a74862c&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab2029337499-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon181b2982126ccee9059105072719aa59&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2190859315831615},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.22205888191068252},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22548803266578976},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.23355825718020554},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.25317339037675696},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2637927804402644}],&quot;genId&quot;:&quot;1330218261&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon625ef3a92c4498e809a3d0fb19f353ee&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonae9d79e5456e25f7ddbe11bf172cdb26&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab2029337499-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anone73365a61cf0a8451018e89cb14086fa&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2190859315831615},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.22205888191068252},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22548803266578976},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.23355825718020554},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.25317339037675696},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2637927804402644}],&quot;genId&quot;:&quot;1037041534&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc66302d6a4b54768a1c5e857a9d09db2&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon3c289c6bc81d5b61408c2705d129e5eb&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 63,
      "time" : "Took: 561 milliseconds, at 2017-3-6 21:57"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab433869420-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "E1F0E3038747454B8FC476C9F20AEBB8"
    },
    "cell_type" : "code",
    "source" : "classify(\"are too small\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res80: Seq[(String, Double)] = List((it,0.18531944139887466), (es,0.1934450899958764), (en,0.21982178935422475), (fr,0.22420064355561053), (nl,0.2658023366151163), (de,0.2732915571268681))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon8e2f9900e02353114dd910c8694779b7&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;433869420&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul433869420\"><li>\n              <a href=\"#tab433869420-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab433869420-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab433869420-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab433869420-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab433869420\"><div class=\"tab-pane\" id=\"tab433869420-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonfcd392434e32fd52eb224a43f675e2ba&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.18531944139887466},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.1934450899958764},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.21982178935422475},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22420064355561053},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2658023366151163},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.2732915571268681}],&quot;genId&quot;:&quot;1990952752&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc243fe82396420f4e77c83bcbc6761b1&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc873f0edb74ab4776859b86ff186a4f8&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab433869420-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon8f74c041a66e3e5c8c4b6e3772da6b9e&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.18531944139887466},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.1934450899958764},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.21982178935422475},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22420064355561053},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2658023366151163},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.2732915571268681}],&quot;genId&quot;:&quot;1607795996&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonbd0ca7829ddb38e4e48a15a37139d955&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon24261166e95d6d7209ba6a45bd879705&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab433869420-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon1af03dda7691d78dea0b685d7dac46c6&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.18531944139887466},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.1934450899958764},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.21982178935422475},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22420064355561053},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2658023366151163},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.2732915571268681}],&quot;genId&quot;:&quot;107673991&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon7f127f3ef255e39e5a4b7775aee6872d&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon25bafc53fbd94f3ea41b1c9e8ba77aba&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab433869420-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonb012f13dc315640ad8ce4c4be06b8892&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.18531944139887466},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.1934450899958764},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.21982178935422475},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22420064355561053},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2658023366151163},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.2732915571268681}],&quot;genId&quot;:&quot;1212414218&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon5aa6de65fb21682ee7a8cb1760703ad2&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anone5c70d31a2aa1fc8f03a24b6e6b1f47f&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 64,
      "time" : "Took: 537 milliseconds, at 2017-3-6 21:57"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab1584325800-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "110C5EE4214344AF8F378BEA1908A8EC"
    },
    "cell_type" : "code",
    "source" : "classify(\"thus too little\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res90: Seq[(String, Double)] = List((en,0.2596796104106738), (it,0.2768858204608613), (fr,0.28314036779773477), (es,0.2969931139658706), (de,0.31659343865450057), (nl,0.32414700650827355))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon2cfbee092f8b588036708b0e7ec266ca&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1584325800&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1584325800\"><li>\n              <a href=\"#tab1584325800-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1584325800-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1584325800-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1584325800-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1584325800\"><div class=\"tab-pane\" id=\"tab1584325800-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anondd8aa3091f2dbc2050b4b3ade59caf35&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.2596796104106738},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2768858204608613},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.28314036779773477},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.2969931139658706},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.31659343865450057},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.32414700650827355}],&quot;genId&quot;:&quot;1934031265&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc14f046803be7c721cff27b794f479fe&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond637cf90b37e988fbb29c1b099319cef&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1584325800-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon2f13bfef0d3d07cb99c948ff1c7e5aa4&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.2596796104106738},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2768858204608613},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.28314036779773477},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.2969931139658706},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.31659343865450057},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.32414700650827355}],&quot;genId&quot;:&quot;520775561&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonfb535eb6b72785e68728b607d21c451f&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb87c5f9c2ad9e5d07b8eefa5884f49a8&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1584325800-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonb5cc9c682a673c991dfd4c4ee9afcb84&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.2596796104106738},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2768858204608613},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.28314036779773477},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.2969931139658706},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.31659343865450057},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.32414700650827355}],&quot;genId&quot;:&quot;1499956121&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon6f940dd6afbbba197d92fa8449c9051c&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon4764619fcc01627a786e2641efe3ee75&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1584325800-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon1e6f4eb6f481dcc1ca1dae4b6511239c&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.2596796104106738},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2768858204608613},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.28314036779773477},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.2969931139658706},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.31659343865450057},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.32414700650827355}],&quot;genId&quot;:&quot;1436322992&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona2a9a36cc48d86b416a3e3d3ad51b799&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonbfd707eb09695430e933b5a5994c4b40&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 69,
      "time" : "Took: 553 milliseconds, at 2017-3-6 21:59"
    } ]
  }, {
    "metadata" : {
      "id" : "A30259B131B241D39A18EFABF8F1E9A3"
    },
    "cell_type" : "markdown",
    "source" : "#Let's evaluate our classification model"
  }, {
    "metadata" : {
      "id" : "96C943D6FBBB4757A995A642EF5B2C8F"
    },
    "cell_type" : "markdown",
    "source" : "## We need a test dataset"
  }, {
    "metadata" : {
      "id" : "DDD38FD5736C4E7080527B4C611DE253"
    },
    "cell_type" : "markdown",
    "source" : "We want to see how our model performs with sentences of different lengths. We'll randomly sample the original text in order to create a labeled sample. \n\nNote that we are keeping only those samples where the sentence size matches the desired length."
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "3C2764EC04334DB2880BFB48B85C638D"
    },
    "cell_type" : "code",
    "source" : "val sampleDataByLanguage = langDataset.map{case (lang, rdd) => \n                val sample = rdd.sample(withReplacement = false, fraction = 0.7)\n                                           .map(str => str.collect{case char if Character.isAlphabetic(char) || Character.isWhitespace(char) => Character.toLowerCase(char)})\n                sample.flatMap{str => \n                        val sentenceLength = scala.util.Random.nextInt(30)+1\n                        val sampledWords = str.split(\"\\\\W\").take(sentenceLength)\n                        if (sampledWords.size == sentenceLength) {\n                            Some((lang, sentenceLength, sampledWords.mkString(\" \")))\n                        } else {\n                          None\n                        }\n                     }               \n                }",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "sampleDataByLanguage: Seq[org.apache.spark.rdd.RDD[(String, Int, String)]] = List(MapPartitionsRDD[176] at flatMap at <console>:83, MapPartitionsRDD[179] at flatMap at <console>:83, MapPartitionsRDD[182] at flatMap at <console>:83, MapPartitionsRDD[185] at flatMap at <console>:83, MapPartitionsRDD[188] at flatMap at <console>:83, MapPartitionsRDD[191] at flatMap at <console>:83)\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 75,
      "time" : "Took: 641 milliseconds, at 2017-3-6 22:4"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "63DA0724BCB445BB88F6E4ED9870D1EC"
    },
    "cell_type" : "code",
    "source" : "val testDataset = sparkContext.union(sampleDataByLanguage).coalesce(8).toDF(\"language\", \"sentenceSize\", \"sentence\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "testDataset: org.apache.spark.sql.DataFrame = [language: string, sentenceSize: int ... 1 more field]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 76,
      "time" : "Took: 520 milliseconds, at 2017-3-6 22:4"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "6900F4E571094472A152E0575EC155C3"
    },
    "cell_type" : "code",
    "source" : "<h3>Our test dataset contains {testDataset.count()} records</h3>",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res101: scala.xml.Elem = <h3>Our test dataset contains 48844 records</h3>\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<h3>Our test dataset contains 48844 records</h3>"
      },
      "output_type" : "execute_result",
      "execution_count" : 77,
      "time" : "Took: 882 milliseconds, at 2017-3-6 22:4"
    } ]
  }, {
    "metadata" : {
      "id" : "C16E50D6CF32498F80F0E80A34D76D8B"
    },
    "cell_type" : "markdown",
    "source" : "#### We can easily use shell functions\nIn this case, we clean up the target save dir to avoid issues when writing our dataset"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "06E7C327B8EB46D58FFFF77ACD2F7E7C"
    },
    "cell_type" : "code",
    "source" : ":sh rm -rf /tmp/testDataset",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "\nimport sys.process._\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/plain" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 80,
      "time" : "Took: 717 milliseconds, at 2017-3-6 22:6"
    } ]
  }, {
    "metadata" : {
      "id" : "D21391A771A84B74AEBD0F35174C98A9"
    },
    "cell_type" : "markdown",
    "source" : "### We save our test dataset for potential use later on..."
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "17DE60116B3441F5A810DBE5C311C7A1"
    },
    "cell_type" : "code",
    "source" : "testDataset.write.parquet(\"/tmp/testDataset\")",
    "outputs" : [ {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 81,
      "time" : "Took: 1 second 365 milliseconds, at 2017-3-6 22:6"
    } ]
  }, {
    "metadata" : {
      "id" : "4B2DEFD0B4B04C2E89C82A3A6E566568"
    },
    "cell_type" : "markdown",
    "source" : "### Lets do some sanity checks on out test data"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab1431351083-3\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "E2F623D45F914253BA2017D52E5948DB"
    },
    "cell_type" : "code",
    "source" : "testDataset.select($\"language\", $\"sentenceSize\").groupBy($\"sentenceSize\").count().orderBy($\"sentenceSize\").collect()",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res117: Array[org.apache.spark.sql.Row] = Array([1,4530], [2,4052], [3,3894], [4,3615], [5,3456], [6,3240], [7,3106], [8,2997], [9,2930], [10,2722], [11,2541], [12,2299], [13,2158], [14,1897], [15,1557], [16,1232], [17,898], [18,668], [19,434], [20,263], [21,139], [22,101], [23,49], [24,28], [25,13], [26,6], [27,5], [28,1], [29,2])\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon7f186dd20e886913deb6310477830154&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1431351083&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1431351083\"><li>\n              <a href=\"#tab1431351083-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1431351083-1\"><i class=\"fa fa-dot-circle-o\"/></a>\n            </li><li>\n              <a href=\"#tab1431351083-2\"><i class=\"fa fa-line-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1431351083-3\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1431351083-4\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1431351083\"><div class=\"tab-pane\" id=\"tab1431351083-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonad165c841a511f576b9ffedddd0b1655&quot;,&quot;dataInit&quot;:[{&quot;sentenceSize&quot;:1,&quot;count&quot;:4530},{&quot;sentenceSize&quot;:2,&quot;count&quot;:4052},{&quot;sentenceSize&quot;:3,&quot;count&quot;:3894},{&quot;sentenceSize&quot;:4,&quot;count&quot;:3615},{&quot;sentenceSize&quot;:5,&quot;count&quot;:3456},{&quot;sentenceSize&quot;:6,&quot;count&quot;:3240},{&quot;sentenceSize&quot;:7,&quot;count&quot;:3106},{&quot;sentenceSize&quot;:8,&quot;count&quot;:2997},{&quot;sentenceSize&quot;:9,&quot;count&quot;:2930},{&quot;sentenceSize&quot;:10,&quot;count&quot;:2722},{&quot;sentenceSize&quot;:11,&quot;count&quot;:2541},{&quot;sentenceSize&quot;:12,&quot;count&quot;:2299},{&quot;sentenceSize&quot;:13,&quot;count&quot;:2158},{&quot;sentenceSize&quot;:14,&quot;count&quot;:1897},{&quot;sentenceSize&quot;:15,&quot;count&quot;:1557},{&quot;sentenceSize&quot;:16,&quot;count&quot;:1232},{&quot;sentenceSize&quot;:17,&quot;count&quot;:898},{&quot;sentenceSize&quot;:18,&quot;count&quot;:668},{&quot;sentenceSize&quot;:19,&quot;count&quot;:434},{&quot;sentenceSize&quot;:20,&quot;count&quot;:263},{&quot;sentenceSize&quot;:21,&quot;count&quot;:139},{&quot;sentenceSize&quot;:22,&quot;count&quot;:101},{&quot;sentenceSize&quot;:23,&quot;count&quot;:49},{&quot;sentenceSize&quot;:24,&quot;count&quot;:28},{&quot;sentenceSize&quot;:25,&quot;count&quot;:13},{&quot;sentenceSize&quot;:26,&quot;count&quot;:6},{&quot;sentenceSize&quot;:27,&quot;count&quot;:5},{&quot;sentenceSize&quot;:28,&quot;count&quot;:1},{&quot;sentenceSize&quot;:29,&quot;count&quot;:2}],&quot;genId&quot;:&quot;699956666&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"sentenceSize\",\"count\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona61835e82bda17f668f070a06dea61a1&quot;,&quot;initialValue&quot;:&quot;29&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon69768729bef4249038c9a7a0564623e8&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1431351083-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anoncfcadaa11e2d43bfb01a63cd40c5d64b&quot;,&quot;dataInit&quot;:[{&quot;sentenceSize&quot;:1,&quot;count&quot;:4530},{&quot;sentenceSize&quot;:2,&quot;count&quot;:4052},{&quot;sentenceSize&quot;:3,&quot;count&quot;:3894},{&quot;sentenceSize&quot;:4,&quot;count&quot;:3615},{&quot;sentenceSize&quot;:5,&quot;count&quot;:3456},{&quot;sentenceSize&quot;:6,&quot;count&quot;:3240},{&quot;sentenceSize&quot;:7,&quot;count&quot;:3106},{&quot;sentenceSize&quot;:8,&quot;count&quot;:2997},{&quot;sentenceSize&quot;:9,&quot;count&quot;:2930},{&quot;sentenceSize&quot;:10,&quot;count&quot;:2722},{&quot;sentenceSize&quot;:11,&quot;count&quot;:2541},{&quot;sentenceSize&quot;:12,&quot;count&quot;:2299},{&quot;sentenceSize&quot;:13,&quot;count&quot;:2158},{&quot;sentenceSize&quot;:14,&quot;count&quot;:1897},{&quot;sentenceSize&quot;:15,&quot;count&quot;:1557},{&quot;sentenceSize&quot;:16,&quot;count&quot;:1232},{&quot;sentenceSize&quot;:17,&quot;count&quot;:898},{&quot;sentenceSize&quot;:18,&quot;count&quot;:668},{&quot;sentenceSize&quot;:19,&quot;count&quot;:434},{&quot;sentenceSize&quot;:20,&quot;count&quot;:263},{&quot;sentenceSize&quot;:21,&quot;count&quot;:139},{&quot;sentenceSize&quot;:22,&quot;count&quot;:101},{&quot;sentenceSize&quot;:23,&quot;count&quot;:49},{&quot;sentenceSize&quot;:24,&quot;count&quot;:28},{&quot;sentenceSize&quot;:25,&quot;count&quot;:13},{&quot;sentenceSize&quot;:26,&quot;count&quot;:6},{&quot;sentenceSize&quot;:27,&quot;count&quot;:5},{&quot;sentenceSize&quot;:28,&quot;count&quot;:1},{&quot;sentenceSize&quot;:29,&quot;count&quot;:2}],&quot;genId&quot;:&quot;956271253&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/scatterChart'], \n      function(playground, _magicscatterChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicscatterChart,\n    \"o\": {\"x\":\"sentenceSize\",\"y\":\"count\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon5320b9860d385ef0bffa7b06aab9092d&quot;,&quot;initialValue&quot;:&quot;29&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona6fcd89e644ebf1b65cdf54fe07c812a&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1431351083-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonb8d4198858f0b1f39234e9cab270b136&quot;,&quot;dataInit&quot;:[{&quot;sentenceSize&quot;:1,&quot;count&quot;:4530},{&quot;sentenceSize&quot;:2,&quot;count&quot;:4052},{&quot;sentenceSize&quot;:3,&quot;count&quot;:3894},{&quot;sentenceSize&quot;:4,&quot;count&quot;:3615},{&quot;sentenceSize&quot;:5,&quot;count&quot;:3456},{&quot;sentenceSize&quot;:6,&quot;count&quot;:3240},{&quot;sentenceSize&quot;:7,&quot;count&quot;:3106},{&quot;sentenceSize&quot;:8,&quot;count&quot;:2997},{&quot;sentenceSize&quot;:9,&quot;count&quot;:2930},{&quot;sentenceSize&quot;:10,&quot;count&quot;:2722},{&quot;sentenceSize&quot;:11,&quot;count&quot;:2541},{&quot;sentenceSize&quot;:12,&quot;count&quot;:2299},{&quot;sentenceSize&quot;:13,&quot;count&quot;:2158},{&quot;sentenceSize&quot;:14,&quot;count&quot;:1897},{&quot;sentenceSize&quot;:15,&quot;count&quot;:1557},{&quot;sentenceSize&quot;:16,&quot;count&quot;:1232},{&quot;sentenceSize&quot;:17,&quot;count&quot;:898},{&quot;sentenceSize&quot;:18,&quot;count&quot;:668},{&quot;sentenceSize&quot;:19,&quot;count&quot;:434},{&quot;sentenceSize&quot;:20,&quot;count&quot;:263},{&quot;sentenceSize&quot;:21,&quot;count&quot;:139},{&quot;sentenceSize&quot;:22,&quot;count&quot;:101},{&quot;sentenceSize&quot;:23,&quot;count&quot;:49},{&quot;sentenceSize&quot;:24,&quot;count&quot;:28},{&quot;sentenceSize&quot;:25,&quot;count&quot;:13},{&quot;sentenceSize&quot;:26,&quot;count&quot;:6},{&quot;sentenceSize&quot;:27,&quot;count&quot;:5},{&quot;sentenceSize&quot;:28,&quot;count&quot;:1},{&quot;sentenceSize&quot;:29,&quot;count&quot;:2}],&quot;genId&quot;:&quot;2003486722&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/lineChart'], \n      function(playground, _magiclineChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magiclineChart,\n    \"o\": {\"x\":\"sentenceSize\",\"y\":\"count\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon047d9b2d2e102f37cc93e205527fccbf&quot;,&quot;initialValue&quot;:&quot;29&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon544691394d7fd7e336d4abbd26b5e553&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1431351083-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anond7d638e4db53cf5a1669e0a209aac932&quot;,&quot;dataInit&quot;:[{&quot;sentenceSize&quot;:1,&quot;count&quot;:4530},{&quot;sentenceSize&quot;:2,&quot;count&quot;:4052},{&quot;sentenceSize&quot;:3,&quot;count&quot;:3894},{&quot;sentenceSize&quot;:4,&quot;count&quot;:3615},{&quot;sentenceSize&quot;:5,&quot;count&quot;:3456},{&quot;sentenceSize&quot;:6,&quot;count&quot;:3240},{&quot;sentenceSize&quot;:7,&quot;count&quot;:3106},{&quot;sentenceSize&quot;:8,&quot;count&quot;:2997},{&quot;sentenceSize&quot;:9,&quot;count&quot;:2930},{&quot;sentenceSize&quot;:10,&quot;count&quot;:2722},{&quot;sentenceSize&quot;:11,&quot;count&quot;:2541},{&quot;sentenceSize&quot;:12,&quot;count&quot;:2299},{&quot;sentenceSize&quot;:13,&quot;count&quot;:2158},{&quot;sentenceSize&quot;:14,&quot;count&quot;:1897},{&quot;sentenceSize&quot;:15,&quot;count&quot;:1557},{&quot;sentenceSize&quot;:16,&quot;count&quot;:1232},{&quot;sentenceSize&quot;:17,&quot;count&quot;:898},{&quot;sentenceSize&quot;:18,&quot;count&quot;:668},{&quot;sentenceSize&quot;:19,&quot;count&quot;:434},{&quot;sentenceSize&quot;:20,&quot;count&quot;:263},{&quot;sentenceSize&quot;:21,&quot;count&quot;:139},{&quot;sentenceSize&quot;:22,&quot;count&quot;:101},{&quot;sentenceSize&quot;:23,&quot;count&quot;:49},{&quot;sentenceSize&quot;:24,&quot;count&quot;:28},{&quot;sentenceSize&quot;:25,&quot;count&quot;:13},{&quot;sentenceSize&quot;:26,&quot;count&quot;:6},{&quot;sentenceSize&quot;:27,&quot;count&quot;:5},{&quot;sentenceSize&quot;:28,&quot;count&quot;:1},{&quot;sentenceSize&quot;:29,&quot;count&quot;:2}],&quot;genId&quot;:&quot;1970969594&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"sentenceSize\",\"y\":\"count\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon39ecc5683ce8ce437f123d24f7f3f2b7&quot;,&quot;initialValue&quot;:&quot;29&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon567e29d0a53382b08e7bfdccabd73cc7&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1431351083-4\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon4eb0d1f299190ee9bc301c1e7b97be87&quot;,&quot;dataInit&quot;:[{&quot;sentenceSize&quot;:1,&quot;count&quot;:4530},{&quot;sentenceSize&quot;:2,&quot;count&quot;:4052},{&quot;sentenceSize&quot;:3,&quot;count&quot;:3894},{&quot;sentenceSize&quot;:4,&quot;count&quot;:3615},{&quot;sentenceSize&quot;:5,&quot;count&quot;:3456},{&quot;sentenceSize&quot;:6,&quot;count&quot;:3240},{&quot;sentenceSize&quot;:7,&quot;count&quot;:3106},{&quot;sentenceSize&quot;:8,&quot;count&quot;:2997},{&quot;sentenceSize&quot;:9,&quot;count&quot;:2930},{&quot;sentenceSize&quot;:10,&quot;count&quot;:2722},{&quot;sentenceSize&quot;:11,&quot;count&quot;:2541},{&quot;sentenceSize&quot;:12,&quot;count&quot;:2299},{&quot;sentenceSize&quot;:13,&quot;count&quot;:2158},{&quot;sentenceSize&quot;:14,&quot;count&quot;:1897},{&quot;sentenceSize&quot;:15,&quot;count&quot;:1557},{&quot;sentenceSize&quot;:16,&quot;count&quot;:1232},{&quot;sentenceSize&quot;:17,&quot;count&quot;:898},{&quot;sentenceSize&quot;:18,&quot;count&quot;:668},{&quot;sentenceSize&quot;:19,&quot;count&quot;:434},{&quot;sentenceSize&quot;:20,&quot;count&quot;:263},{&quot;sentenceSize&quot;:21,&quot;count&quot;:139},{&quot;sentenceSize&quot;:22,&quot;count&quot;:101},{&quot;sentenceSize&quot;:23,&quot;count&quot;:49},{&quot;sentenceSize&quot;:24,&quot;count&quot;:28},{&quot;sentenceSize&quot;:25,&quot;count&quot;:13},{&quot;sentenceSize&quot;:26,&quot;count&quot;:6},{&quot;sentenceSize&quot;:27,&quot;count&quot;:5},{&quot;sentenceSize&quot;:28,&quot;count&quot;:1},{&quot;sentenceSize&quot;:29,&quot;count&quot;:2}],&quot;genId&quot;:&quot;412650475&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc5e77111671af2b27cb4b7372cfdd340&quot;,&quot;initialValue&quot;:&quot;29&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond754636e3e087fcffb0914b75a6f7741&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 85,
      "time" : "Took: 1 second 776 milliseconds, at 2017-3-6 22:8"
    } ]
  }, {
    "metadata" : {
      "id" : "BF18914EE07242649E6A6D534663D7EE"
    },
    "cell_type" : "markdown",
    "source" : "### Use an UDF to apply the predict function to our dataset\n"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "B01DFDE685CC448A80F700BE22EED85E"
    },
    "cell_type" : "code",
    "source" : "val classifyUDF = {\n  val func: String => String = str => classify(str).head._1\n  udf(func)\n}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "classifyUDF: org.apache.spark.sql.expressions.UserDefinedFunction = UserDefinedFunction(<function1>,StringType,Some(List(StringType)))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 87,
      "time" : "Took: 607 milliseconds, at 2017-3-6 22:10"
    } ]
  }, {
    "metadata" : {
      "id" : "3C577ACBAE1847CBB9CD1ADE845F14BD"
    },
    "cell_type" : "markdown",
    "source" : "### And we apply the classifier to the test dataset"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "D50DD2D023FF46E0AFB93BC42C9D4528"
    },
    "cell_type" : "code",
    "source" : "val hitAndMiss = testDataset.withColumn(\"lang_classification\", classifyUDF($\"sentence\"))",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "hitAndMiss: org.apache.spark.sql.DataFrame = [language: string, sentenceSize: int ... 2 more fields]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 88,
      "time" : "Took: 472 milliseconds, at 2017-3-6 22:11"
    } ]
  }, {
    "metadata" : {
      "id" : "E2C948615EF84F278F5DC32F115AEFD7"
    },
    "cell_type" : "markdown",
    "source" : "#### Let's see some of the results"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "76D1FED1200B4DF18E0C96301B4A02E1"
    },
    "cell_type" : "code",
    "source" : "hitAndMiss.sample(false, 0.001)",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res122: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [language: string, sentenceSize: int ... 2 more fields]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div class=\"df-canvas\">\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon834ac5c5e875cd6e039b2daa5e3cf000&quot;,&quot;partitionIndexId&quot;:&quot;anon8581db3c446774dce02f38d35f9fb643&quot;,&quot;numPartitions&quot;:2,&quot;dfSchema&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;language&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;sentenceSize&quot;,&quot;type&quot;:&quot;integer&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;sentence&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;lang_classification&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]}}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/dataframe','../javascripts/notebook/consoleDir'], \n      function(dataframe, extension) {\n        dataframe.call(data, this, extension);\n      }\n    );/*]]>*/</script>\n      <link rel=\"stylesheet\" href=\"/assets/stylesheets/ipython/css/dataframe.css\" type=\"text/css\"/>\n    </div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 89,
      "time" : "Took: 1 second 728 milliseconds, at 2017-3-6 22:12"
    } ]
  }, {
    "metadata" : {
      "id" : "FB51DCBC56E0403FAFE43F1D263178C1"
    },
    "cell_type" : "markdown",
    "source" : "## Let's evaluate the overall hit ratio\nAKA Model Accuracy"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "AC749C8104F8439D9375F975288F412C"
    },
    "cell_type" : "code",
    "source" : "val hitCol = when($\"language\" === $\"lang_classification\", 1L).otherwise(0L)\nval hits = hitAndMiss.withColumn(\"hit\", hitCol).withColumn(\"counter\", lit(1))",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "hitCol: org.apache.spark.sql.Column = CASE WHEN (language = lang_classification) THEN 1 ELSE 0 END\nhits: org.apache.spark.sql.DataFrame = [language: string, sentenceSize: int ... 4 more fields]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 91,
      "time" : "Took: 476 milliseconds, at 2017-3-6 22:16"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "305662E192844B5BBB621DED26100CF4"
    },
    "cell_type" : "code",
    "source" : "val hitRatio = hits.select(sum($\"hit\")/sum($\"counter\")).head.getDouble(0)",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "hitRatio: Double = 0.5528181242466956\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 94,
      "time" : "Took: 2 seconds 270 milliseconds, at 2017-3-6 22:17"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "17FBE2383F5549F396EEF0A97170E11A"
    },
    "cell_type" : "markdown",
    "source" : "## We learnt that our method performs bad on small texts\n### How is the performance in relation to text length (measured in words, not characters)"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "5A8E8364FBE644CEAF55AE4FEC3CA126"
    },
    "cell_type" : "code",
    "source" : "val hitRatioPerLength = hits.groupBy($\"sentenceSize\").agg(sum($\"hit\")/sum($\"counter\")).orderBy($\"sentenceSize\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "hitRatioPerLength: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [sentenceSize: int, (sum(hit) / sum(counter)): double]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 96,
      "time" : "Took: 510 milliseconds, at 2017-3-6 22:24"
    } ]
  }, {
    "metadata" : {
      "id" : "0B9C8D2BC336462BB30072272231EB1E"
    },
    "cell_type" : "markdown",
    "source" : "#Model accuracy vs sentence lenght"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab187936961-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "9F7DA76D76C74FF4BE8D6C3E02B99776"
    },
    "cell_type" : "code",
    "source" : "val ds = hitRatioPerLength.as[(Long, Double)]",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "ds: org.apache.spark.sql.Dataset[(Long, Double)] = [sentenceSize: int, (sum(hit) / sum(counter)): double]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 97,
      "time" : "Took: 474 milliseconds, at 2017-3-6 22:24"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab224983149-2\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "6E3C23EFF56F46E78C21B7AE89C6ED70"
    },
    "cell_type" : "code",
    "source" : "ds.collect",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res134: Array[(Long, Double)] = Array((1,0.28963077603360604), (2,0.3569254185692542), (3,0.39979418574736303), (4,0.4559386973180077), (5,0.4881656804733728), (6,0.5452586206896551), (7,0.5520734409623298), (8,0.6035404141616566), (9,0.6347177848775293), (10,0.6615384615384615), (11,0.7100660707345511), (12,0.7177759056444819), (13,0.7181571815718157), (14,0.7434386716657739), (15,0.7503201024327785), (16,0.7451612903225806), (17,0.7407407407407407), (18,0.7348484848484849), (19,0.7562814070351759), (20,0.749034749034749), (21,0.7364864864864865), (22,0.6962025316455697), (23,0.6428571428571429), (24,0.5769230769230769), (25,0.5), (26,0.8), (27,0.75), (28,0.5), (29,1.0))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anona660d93d03ade6aac46d1bc22d005f08&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;224983149&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul224983149\"><li>\n              <a href=\"#tab224983149-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab224983149-1\"><i class=\"fa fa-dot-circle-o\"/></a>\n            </li><li>\n              <a href=\"#tab224983149-2\"><i class=\"fa fa-line-chart\"/></a>\n            </li><li>\n              <a href=\"#tab224983149-3\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab224983149-4\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab224983149\"><div class=\"tab-pane\" id=\"tab224983149-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonda1db17eaac5bb44460db5dfc71002bc&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:1,&quot;_2&quot;:0.28963077603360604},{&quot;_1&quot;:2,&quot;_2&quot;:0.3569254185692542},{&quot;_1&quot;:3,&quot;_2&quot;:0.39979418574736303},{&quot;_1&quot;:4,&quot;_2&quot;:0.4559386973180077},{&quot;_1&quot;:5,&quot;_2&quot;:0.4881656804733728},{&quot;_1&quot;:6,&quot;_2&quot;:0.5452586206896551},{&quot;_1&quot;:7,&quot;_2&quot;:0.5520734409623298},{&quot;_1&quot;:8,&quot;_2&quot;:0.6035404141616566},{&quot;_1&quot;:9,&quot;_2&quot;:0.6347177848775293},{&quot;_1&quot;:10,&quot;_2&quot;:0.6615384615384615},{&quot;_1&quot;:11,&quot;_2&quot;:0.7100660707345511},{&quot;_1&quot;:12,&quot;_2&quot;:0.7177759056444819},{&quot;_1&quot;:13,&quot;_2&quot;:0.7181571815718157},{&quot;_1&quot;:14,&quot;_2&quot;:0.7434386716657739},{&quot;_1&quot;:15,&quot;_2&quot;:0.7503201024327785},{&quot;_1&quot;:16,&quot;_2&quot;:0.7451612903225806},{&quot;_1&quot;:17,&quot;_2&quot;:0.7407407407407407},{&quot;_1&quot;:18,&quot;_2&quot;:0.7348484848484849},{&quot;_1&quot;:19,&quot;_2&quot;:0.7562814070351759},{&quot;_1&quot;:20,&quot;_2&quot;:0.749034749034749},{&quot;_1&quot;:21,&quot;_2&quot;:0.7364864864864865},{&quot;_1&quot;:22,&quot;_2&quot;:0.6962025316455697},{&quot;_1&quot;:23,&quot;_2&quot;:0.6428571428571429},{&quot;_1&quot;:24,&quot;_2&quot;:0.5769230769230769},{&quot;_1&quot;:25,&quot;_2&quot;:0.5},{&quot;_1&quot;:26,&quot;_2&quot;:0.8},{&quot;_1&quot;:27,&quot;_2&quot;:0.75},{&quot;_1&quot;:28,&quot;_2&quot;:0.5},{&quot;_1&quot;:29,&quot;_2&quot;:1.0}],&quot;genId&quot;:&quot;997953277&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon047e07477a952ded2aee5e9ae4cd0961&quot;,&quot;initialValue&quot;:&quot;29&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon56f9f0b0b81399a5214686eaa09df145&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab224983149-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon88c760e5f2751699fc89086b0976711f&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:1,&quot;_2&quot;:0.28963077603360604},{&quot;_1&quot;:2,&quot;_2&quot;:0.3569254185692542},{&quot;_1&quot;:3,&quot;_2&quot;:0.39979418574736303},{&quot;_1&quot;:4,&quot;_2&quot;:0.4559386973180077},{&quot;_1&quot;:5,&quot;_2&quot;:0.4881656804733728},{&quot;_1&quot;:6,&quot;_2&quot;:0.5452586206896551},{&quot;_1&quot;:7,&quot;_2&quot;:0.5520734409623298},{&quot;_1&quot;:8,&quot;_2&quot;:0.6035404141616566},{&quot;_1&quot;:9,&quot;_2&quot;:0.6347177848775293},{&quot;_1&quot;:10,&quot;_2&quot;:0.6615384615384615},{&quot;_1&quot;:11,&quot;_2&quot;:0.7100660707345511},{&quot;_1&quot;:12,&quot;_2&quot;:0.7177759056444819},{&quot;_1&quot;:13,&quot;_2&quot;:0.7181571815718157},{&quot;_1&quot;:14,&quot;_2&quot;:0.7434386716657739},{&quot;_1&quot;:15,&quot;_2&quot;:0.7503201024327785},{&quot;_1&quot;:16,&quot;_2&quot;:0.7451612903225806},{&quot;_1&quot;:17,&quot;_2&quot;:0.7407407407407407},{&quot;_1&quot;:18,&quot;_2&quot;:0.7348484848484849},{&quot;_1&quot;:19,&quot;_2&quot;:0.7562814070351759},{&quot;_1&quot;:20,&quot;_2&quot;:0.749034749034749},{&quot;_1&quot;:21,&quot;_2&quot;:0.7364864864864865},{&quot;_1&quot;:22,&quot;_2&quot;:0.6962025316455697},{&quot;_1&quot;:23,&quot;_2&quot;:0.6428571428571429},{&quot;_1&quot;:24,&quot;_2&quot;:0.5769230769230769},{&quot;_1&quot;:25,&quot;_2&quot;:0.5},{&quot;_1&quot;:26,&quot;_2&quot;:0.8},{&quot;_1&quot;:27,&quot;_2&quot;:0.75},{&quot;_1&quot;:28,&quot;_2&quot;:0.5},{&quot;_1&quot;:29,&quot;_2&quot;:1.0}],&quot;genId&quot;:&quot;1096210646&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/scatterChart'], \n      function(playground, _magicscatterChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicscatterChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon01dd8b8529172b8fe8db06eedcacbbf1&quot;,&quot;initialValue&quot;:&quot;29&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb4696a053e37e47fbfda0d10fe18fa43&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab224983149-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon22c10e3c4ad53290dd1309751ed89324&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:1,&quot;_2&quot;:0.28963077603360604},{&quot;_1&quot;:2,&quot;_2&quot;:0.3569254185692542},{&quot;_1&quot;:3,&quot;_2&quot;:0.39979418574736303},{&quot;_1&quot;:4,&quot;_2&quot;:0.4559386973180077},{&quot;_1&quot;:5,&quot;_2&quot;:0.4881656804733728},{&quot;_1&quot;:6,&quot;_2&quot;:0.5452586206896551},{&quot;_1&quot;:7,&quot;_2&quot;:0.5520734409623298},{&quot;_1&quot;:8,&quot;_2&quot;:0.6035404141616566},{&quot;_1&quot;:9,&quot;_2&quot;:0.6347177848775293},{&quot;_1&quot;:10,&quot;_2&quot;:0.6615384615384615},{&quot;_1&quot;:11,&quot;_2&quot;:0.7100660707345511},{&quot;_1&quot;:12,&quot;_2&quot;:0.7177759056444819},{&quot;_1&quot;:13,&quot;_2&quot;:0.7181571815718157},{&quot;_1&quot;:14,&quot;_2&quot;:0.7434386716657739},{&quot;_1&quot;:15,&quot;_2&quot;:0.7503201024327785},{&quot;_1&quot;:16,&quot;_2&quot;:0.7451612903225806},{&quot;_1&quot;:17,&quot;_2&quot;:0.7407407407407407},{&quot;_1&quot;:18,&quot;_2&quot;:0.7348484848484849},{&quot;_1&quot;:19,&quot;_2&quot;:0.7562814070351759},{&quot;_1&quot;:20,&quot;_2&quot;:0.749034749034749},{&quot;_1&quot;:21,&quot;_2&quot;:0.7364864864864865},{&quot;_1&quot;:22,&quot;_2&quot;:0.6962025316455697},{&quot;_1&quot;:23,&quot;_2&quot;:0.6428571428571429},{&quot;_1&quot;:24,&quot;_2&quot;:0.5769230769230769},{&quot;_1&quot;:25,&quot;_2&quot;:0.5},{&quot;_1&quot;:26,&quot;_2&quot;:0.8},{&quot;_1&quot;:27,&quot;_2&quot;:0.75},{&quot;_1&quot;:28,&quot;_2&quot;:0.5},{&quot;_1&quot;:29,&quot;_2&quot;:1.0}],&quot;genId&quot;:&quot;951033014&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/lineChart'], \n      function(playground, _magiclineChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magiclineChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon09474f96b28c6744ae4a021b8e93a467&quot;,&quot;initialValue&quot;:&quot;29&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc1bad68ec0977dfd0b9a535ace3c568e&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab224983149-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon290ff71f1b1e33e06e4a3bbd3a364ae2&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:1,&quot;_2&quot;:0.28963077603360604},{&quot;_1&quot;:2,&quot;_2&quot;:0.3569254185692542},{&quot;_1&quot;:3,&quot;_2&quot;:0.39979418574736303},{&quot;_1&quot;:4,&quot;_2&quot;:0.4559386973180077},{&quot;_1&quot;:5,&quot;_2&quot;:0.4881656804733728},{&quot;_1&quot;:6,&quot;_2&quot;:0.5452586206896551},{&quot;_1&quot;:7,&quot;_2&quot;:0.5520734409623298},{&quot;_1&quot;:8,&quot;_2&quot;:0.6035404141616566},{&quot;_1&quot;:9,&quot;_2&quot;:0.6347177848775293},{&quot;_1&quot;:10,&quot;_2&quot;:0.6615384615384615},{&quot;_1&quot;:11,&quot;_2&quot;:0.7100660707345511},{&quot;_1&quot;:12,&quot;_2&quot;:0.7177759056444819},{&quot;_1&quot;:13,&quot;_2&quot;:0.7181571815718157},{&quot;_1&quot;:14,&quot;_2&quot;:0.7434386716657739},{&quot;_1&quot;:15,&quot;_2&quot;:0.7503201024327785},{&quot;_1&quot;:16,&quot;_2&quot;:0.7451612903225806},{&quot;_1&quot;:17,&quot;_2&quot;:0.7407407407407407},{&quot;_1&quot;:18,&quot;_2&quot;:0.7348484848484849},{&quot;_1&quot;:19,&quot;_2&quot;:0.7562814070351759},{&quot;_1&quot;:20,&quot;_2&quot;:0.749034749034749},{&quot;_1&quot;:21,&quot;_2&quot;:0.7364864864864865},{&quot;_1&quot;:22,&quot;_2&quot;:0.6962025316455697},{&quot;_1&quot;:23,&quot;_2&quot;:0.6428571428571429},{&quot;_1&quot;:24,&quot;_2&quot;:0.5769230769230769},{&quot;_1&quot;:25,&quot;_2&quot;:0.5},{&quot;_1&quot;:26,&quot;_2&quot;:0.8},{&quot;_1&quot;:27,&quot;_2&quot;:0.75},{&quot;_1&quot;:28,&quot;_2&quot;:0.5},{&quot;_1&quot;:29,&quot;_2&quot;:1.0}],&quot;genId&quot;:&quot;894780340&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon0b2d0c187a268d1aa082b3537f51a2c0&quot;,&quot;initialValue&quot;:&quot;29&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon04c396dfae2bff503572ee66fa36726a&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab224983149-4\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anond830f4aa6b7335ff866290788d93cb8d&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:1,&quot;_2&quot;:0.28963077603360604},{&quot;_1&quot;:2,&quot;_2&quot;:0.3569254185692542},{&quot;_1&quot;:3,&quot;_2&quot;:0.39979418574736303},{&quot;_1&quot;:4,&quot;_2&quot;:0.4559386973180077},{&quot;_1&quot;:5,&quot;_2&quot;:0.4881656804733728},{&quot;_1&quot;:6,&quot;_2&quot;:0.5452586206896551},{&quot;_1&quot;:7,&quot;_2&quot;:0.5520734409623298},{&quot;_1&quot;:8,&quot;_2&quot;:0.6035404141616566},{&quot;_1&quot;:9,&quot;_2&quot;:0.6347177848775293},{&quot;_1&quot;:10,&quot;_2&quot;:0.6615384615384615},{&quot;_1&quot;:11,&quot;_2&quot;:0.7100660707345511},{&quot;_1&quot;:12,&quot;_2&quot;:0.7177759056444819},{&quot;_1&quot;:13,&quot;_2&quot;:0.7181571815718157},{&quot;_1&quot;:14,&quot;_2&quot;:0.7434386716657739},{&quot;_1&quot;:15,&quot;_2&quot;:0.7503201024327785},{&quot;_1&quot;:16,&quot;_2&quot;:0.7451612903225806},{&quot;_1&quot;:17,&quot;_2&quot;:0.7407407407407407},{&quot;_1&quot;:18,&quot;_2&quot;:0.7348484848484849},{&quot;_1&quot;:19,&quot;_2&quot;:0.7562814070351759},{&quot;_1&quot;:20,&quot;_2&quot;:0.749034749034749},{&quot;_1&quot;:21,&quot;_2&quot;:0.7364864864864865},{&quot;_1&quot;:22,&quot;_2&quot;:0.6962025316455697},{&quot;_1&quot;:23,&quot;_2&quot;:0.6428571428571429},{&quot;_1&quot;:24,&quot;_2&quot;:0.5769230769230769},{&quot;_1&quot;:25,&quot;_2&quot;:0.5},{&quot;_1&quot;:26,&quot;_2&quot;:0.8},{&quot;_1&quot;:27,&quot;_2&quot;:0.75},{&quot;_1&quot;:28,&quot;_2&quot;:0.5},{&quot;_1&quot;:29,&quot;_2&quot;:1.0}],&quot;genId&quot;:&quot;878355088&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anoncaf11e3966bd6bd850b03aa840479066&quot;,&quot;initialValue&quot;:&quot;29&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond345dfbf8e93322e7ea267879ba83d38&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 98,
      "time" : "Took: 3 seconds 581 milliseconds, at 2017-3-6 22:24"
    } ]
  }, {
    "metadata" : {
      "id" : "2140F8A946F243E7A0A77C2DE9D0E541"
    },
    "cell_type" : "markdown",
    "source" : "#=o="
  } ],
  "nbformat" : 4
}